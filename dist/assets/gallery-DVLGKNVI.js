import{s as _,c as b,m as L,a as f,b as N,g as w,h as I}from"./footer-B8ZrFvtH.js";const S=()=>{console.log("galleryNavMenu");const n=new AbortController,r=document.querySelectorAll(".gallery__nav-item"),s=document.querySelector(".gallery__nav"),c=document.querySelector(".selected-year");s.addEventListener("click",()=>{console.log("CLICK IN NAV CONTAINER"),s.classList.toggle("active")},{signal:n.signal}),r.forEach(o=>{o.addEventListener("click",()=>{console.log("CLICKED ON NAV ITEM"),r.forEach(d=>{d.classList.remove("active")}),p(o.textContent),o.classList.add("active"),s.classList.remove("active"),c.textContent=o.textContent,n.abort()})})},p=(n=new Date().getFullYear())=>{const r=document.querySelector(".gallery__loading"),s=document.querySelector(".selected-year"),c=document.querySelector(".gallery__nav-menu"),o=document.querySelector(".gallery__content-wrapper");o.replaceChildren(),c.replaceChildren();const d=["","January","February","March","April","May","June","July","August","September","October","November","December"];let v=[];return new Promise((C,q)=>{r.style.display="block",document.body.style.overflow="hidden",document.body.style.pointerEvents="none";const m=async a=>new Promise(async(e,i)=>{const{data:t,error:l}=await _.storage.from("sub-home").list(`${a}/`);l&&i(l),e(t)});m("gallery").then(a=>{a.forEach((e,i)=>{const t=document.createElement("li");t.classList.add("gallery__nav-item"),t.innerHTML=`<a href="#${e.name}">${e.name}</a>`,c.appendChild(t),v.push(e.name)}),s.textContent=n,console.log("1")}).finally(()=>{m(`gallery/${n}`).then(a=>{a.forEach((e,i)=>{m(`gallery/${n}/${e.name}`).then(t=>{console.log(d[e.name]),console.log(t);const l=document.createElement("div"),g=document.createElement("h3"),u=document.createElement("div");l.classList.add("gallery__content-monthly"),g.classList.add("gallery__content-subtitle"),u.classList.add("gallery__content"),g.textContent=`${d[e.name]}`,t.forEach(h=>{const{data:E}=_.storage.from("sub-home").getPublicUrl(`gallery/${n}/${e.name}/${h.name}`);if(h.name==".emptyFolderPlaceholder")return;const y=document.createElement("img");y.classList.add("gallery__content-img"),y.src=E.publicUrl,u.appendChild(y)}),l.appendChild(g),l.appendChild(u),o.appendChild(l),i==a.length-1&&(S(),r.style.display="none",document.body.style.overflow="auto",document.body.style.pointerEvents="auto",C())})})})})})},$=()=>{Promise.all([p(),f(),N(),w()]).then(()=>{I()})};b();L();$();
